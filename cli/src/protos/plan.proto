syntax = "proto3";

package cli.types;

option go_package = "playment_plan/protos";


message PlanParams {
    double requested_amount = 1;
    int64 first_payment_date_millis = 2;
    int64 disbursement_date_millis = 3;
    uint32 installments = 4;
    uint32 debit_service_percentage = 5;
    double mdr = 6;
    double tac_percentage = 7;
    double iof_overall = 8;
    double iof_percentage = 9;
    double interest_rate = 10;
    double min_installment_amount = 11;
    double max_total_amount = 12;
    bool disbursement_only_on_business_days = 13;
}

message PlanResponse {
    uint32 installment = 1;
    int64 due_date_millis = 2;
    int64 accumulated_days = 3;
    double days_index = 4;
    double accumulated_days_index = 5;
    double interest_rate = 6;
    double installment_amount = 7;
    double installment_amount_without_tac = 8;
    double total_amount = 9;
    double debit_service = 10;
    double customer_debit_service_amount = 11;
    double customer_amount = 12;
    double calculation_basis_for_effective_interest_rate = 13;
    double merchant_debit_service_amount = 14;
    double merchant_total_amount = 15;
    double settled_to_merchant = 16;
    double mdr_amount = 17;
    double effective_interest_rate = 18;
    double total_effective_cost = 19;
    double eir_yearly = 20;
    double tec_yearly = 21;
    double eir_monthly = 22;
    double tec_monthly = 23;
    double total_iof = 24;
    double contract_amount = 25;
    double contract_amount_without_tac = 26;
    double tac_amount = 27;
    double iof_percentage = 28;
    double overall_iof = 29;
    int64 disbursement_date_millis = 30;
    double pre_disbursement_amount = 33;
    double paid_total_iof = 34;
    double paid_contract_amount = 35;
    Invoices invoices = 36;
}

message PlanResponses {
    repeated PlanResponse responses = 1;
}


message DownPaymentParams {
    PlanParams params = 1;
    double requested_amount = 2;
    double min_installment_amount = 3;
    int64 first_payment_date_millis = 4;
    uint32 installments = 5;
}

message DownPaymentResponse {
    double installment_amount = 1;
    double total_amount = 2;
    uint32 installment_quantity = 3;
    int64 first_payment_date_millis = 4;
    PlanResponses plans = 5;
}

message DownPaymentResponses {
    repeated DownPaymentResponse responses = 1;
}

message Invoice {
    int64 accumulated_days = 1;
    double factor = 2;
    double accumulated_factor = 3;
    int64 due_date_millis = 4;
    double main_iof_tac = 5;
    double debit_service = 6;
}

message Invoices {
    repeated Invoice invoices = 1;
}