# BIN

The bin package contains the code that builds the binary for the Lara Payment Plan.
The ideal of the package is to have interoperability between languages, so that any Lara project can use the Lara Payment Plan.

It uses [protobuf](https://developers.google.com/protocol-buffers) to serialize/deserialize the data to achieve better serialization/deserialization performance and language interoperability.

## Important libs

- [prost](https://docs.rs/prost/0.12.6/prost/)
  - Prost is a Protocol Buffers implementation for the Rust. It is a library that generates Rust code from Protocol Buffers definitions fonded [here](../bin/src/protos/plan.proto).
  - It generates the code using a macro on the [build.rs](../bin/build.rs) file.
  - The generated code is imported by a macro on the [lib.rs](../bin/src/lib.rs) file.
  ```rust
  pub mod types {
    include!(concat!(env!("OUT_DIR"), "/cli.types.rs"));
  }
  ```
- [clap](https://docs.rs/clap/4.5.17/clap/)
  - Clap is a command line argument parser for Rust. It is used to parse the command line arguments and generate the help message.

## Maintenance

This project is basically a interface to serialize/deserialize the data so the `core` package can calculate the payment plan and return the result, with means that the maintenance of this package is minimal and only necessary if the `core` package changes.

A certain amount of protobuf knowledge is required to understand the code.

But to create new functionalities, you need to add a new `Message` to the [plan.proto](../bin/src/protos/plan.proto) file, the message will be automatically generated by the `prost` library, from then you can program the data serialization/deserialization on the [lib.rs](../bin/src/lib.rs) file.

